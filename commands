############################ oracle #####################################

http://www.oracle.com/technetwork/database/enterprise-edition/downloads/index.html
li5220008@163.com
Li*************


1、create tablespace banks datafile 'D:\oracle\datafile\BANKS.DBF' size 500M autoextend on;
2、create user banks identified by 666666 default tablespace banks;
3、grant connect,resource to banks;

4、删除用户,包括旗下所有的设备
drop user bank cascade;

5、数据导出
 11G中有个新特性，当表无数据时，不分配segment，以节省空间
 //查询默认值True	
 show parameter deferred_segment_creation 
 //修改默认false	
 alter system set deferred_segment_creation=false; 

exp myname/mypassword@192.168.100.152/orcl file = d:\my.dmp  
--将数据库完全导出  
exp myname/mypassword@192.168.100.152/orcl file = d:\my.dmp full = y  
--只导出用户myuser下的表  
exp myname/mypassword@192.168.100.152/orcl file = d:\my.dmp owner = (myuser) 

--exp bank/666666@192.168.101.101/orcl file = D:\oracle\databak\bank20141029.dmp owner = (bank) 
--只导出test1、test2表  
exp myname/mypassword@192.168.100.152/orcl file = d:\my.dmp tables=(test1,test2)
--全部导入  
imp myname/mypassword@192.168.100.152/orcl file = d:\my.dmp full = y  
--全部导入，忽略已存在数据  
imp myname/mypassword@192.168.100.152/orcl file = d:\my.dmp full = y ignore=y
--imp banks/666666@192.168.101.101/orcl file=D:\oracle\databak\20141108.dmp touser=banks full=y ignore=y

--只导入test1 test2表  
imp myname/mypassword@192.168.100.152/orcl file  = d:\my.dmp tables=(test1,test2)  

--查看用户下的所有表
	SELECT table_name
	FROM user_tables

	tabs
	dba_tables
	all_tables
	user_tables
--查看所有用户
select username from dba_users;

https://192.168.101.101:1158/em/console

########################### Fedora release 19 
https://192.168.101.101:1158/em/console
SYS 
******
########################## windows 
//vpn
107.182.177.168
vivian
vivivi

//杂项命令
	disconn
	conn bank/bank
	set linesize 300	
//监听配置文件路径：
C:\app\Administrator\product\11.2.0\dbhome_1\NETWORK\ADMIN
//用户管理
	//oracle数据库的三种验证机制
	1、操作系统验证
	2、密码文件验证
	3、数据库验证

//linux下oracle启动过程
	lsnrctl start//启动监听
	/11g+
	sqlplus sys/666666 as sysdba (1、2)//早起的版本不支持
	/早期版本
	sqlplus /nolog
	conn sys/666666 as sysdba
	startup //启动oracle实例
	/普通用户登录
	sqlplus scott/tiger
//windows下oracle启动过程
	lsnrctl start
	oradim -starup -sid orcl
	


	//超级用户登陆
	sqlplus / as sysdba
	
	//修改用户密码(会覆盖原来的密码)
	alter user scott identified by tiger
	//更改超级管理员（特权 sysdba,sysoper）用户口令文件
	orapwd file=C:\app\Administrator\product\11.2.0\dbhome_1\database\PWDorcl.ora password=666666 entries=10
	//查看密码文件里面放了多少特权用户
	select * from v$pwfile_users;

//创建用户
create user banks
identified by banks
default tablespace Users 
Temporary Tablespace Temp
Quota 50M on users //(Quota unlimited on users)限制用户表空间的大小


alter user banks
identified by banks
default tablespace Users 
Temporary Tablespace Temp
Quota 50M on users

	//用户加锁 alter User 用户名 Account Lock
	//用户解锁 alter User 用户名 Account Unlock
	用户口令即刻失效
	alter User 用户名 Password Expire

	/dos下写出到文本文件
	eq
	
//操作表空间
一、drop user xxxx cascade;
二、drop tablespace xxxx including contents and datafiles
1.首先看一下是不是已经使用了OMF
sql>show parameter db_create
查看参数db_create_file_dest,如果已经设置
则:drop tablespace tablespacename 就可以直接删除表空间以及相应的数据文件
2.如果没使用OMF,则：
drop tablespace tablespacename including contents and datafiles

1、先查询空闲空间

select tablespace_name,file_id,block_id,bytes,blocks from dba_free_space; 
2、增加Oracle表空间

先查询数据文件名称、大小和路径的信息，语句如下：

select tablespace_name,file_id,bytes,file_name from dba_data_files; 
3、修改文件大小语句如下

alter database datafile   
'需要增加的数据文件路径，即上面查询出来的路径  
'resize 800M; 
4、创建Oracle表空间

create tablespace test  
datafile '/home/app/oracle/oradata/oracle8i/test01.dbf' size 8M  
autoextend on  
next 5M  
maxsize 10M;  
 
create tablespace sales  
datafile '/home/app/oracle/oradata/oracle8i/sales01.dbf' size 800M  
autoextend on  
next 50M  
maxsize unlimited  
maxsize unlimited 是大小不受限制  
 
create tablespace sales  
datafile '/home/app/oracle/oradata/oracle8i/sales01.dbf' size 800M  
autoextend on  
next 50M  
maxsize 1000M  
extent management local uniform;  
unform表示区的大小相同，默认为1M  
 
create tablespace sales  
datafile '/home/app/oracle/oradata/oracle8i/sales01.dbf' size 800M  
autoextend on  
next 50M  
maxsize 1000M  
extent management local uniform size 500K;  
unform size 500K表示区的大小相同，为500K  
 
create tablespace sales  
datafile '/home/app/oracle/oradata/oracle8i/sales01.dbf' size 800M  
autoextend on  
next 50M  
maxsize 1000M  
extent management local autoallocate;  
autoallocate表示区的大小由随表的大小自动动态改变，大表使用大区小表使用小区  
 
create tablespace sales  
datafile '/home/app/oracle/oradata/oracle8i/sales01.dbf' size 800M  
autoextend on  
next 50M  
maxsize 1000M  
temporary;  
temporary创建字典管理临时表空间  
 
create temporary tablespace sales  
tempfile '/home/app/oracle/oradata/oracle8i/sales01.dbf' size 800M  
autoextend on  
next 50M  
maxsize 1000M  
创建本地管理临时表空间，如果是临时表空间，所有语句中的datafile都换为tempfile  
 
8i系统默认创建字典管理临时表空间，要创建本地管理临时表空间要加temporary tablespace关键字  
创建本地管理临时表空间时，不得使用atuoallocate参数，系统默认创建uniform管理方式  
 
为表空间增加数据文件：  
alter tablespace sales add  
datafile '/home/app/oracle/oradata/oracle8i/sales02.dbf' size 800M  
autoextend on next 50M  
maxsize 1000M; 
创建本地管理临时Oracle表空间，如果是临时表空间，所有语句中的datafile都换为tempfile8i系统默认创建字典管理临时表空间，要创建本地管理临时表空间要加temporary tablespace关键字创建本地管理临时表空间时，不得使用atuoallocate参数，系统默认创建uniform管理方式

为表空间增加数据文件：

alter tablespace sales add  
datafile '/home/app/oracle/oradata/oracle8i/sales02.dbf' size 800M  
autoextend on next 50M  
maxsize 1000M; 
5、更改自动扩展属性：

alter database datafile  
'/home/app/oracle/oradata/oracle8i/sales01.dbf',  
'/home/app/oracle/oradata/oracle8i/sales02.dbf'  
'/home/app/oracle/oradata/oracle8i/sales01.dbf  
autoextend off; 
	
	
//三个默认的用户

	sys change_oninstall [as sysdba]
	system manager
	scott tiger

//创建用户
	create user bank identified by 666666;
//系统权限
	//赋予创建session回话权限 （登陆）
	grant create session to bank;
	//建表权限(包括增删改查/ 对于对象权限，谁拥有谁授权)
	grant create table to bank;
	//授予表空间的权限
	grant unlimited tablespase to bank;

	//撤销权限
	revoke create session from bank;
	revoke create table from bank;
	revoke unlimited tablespase from bank;

//对象权限
	//赋予对象权限
	grant select on mytab to bank;
	grant all on mytab to bank;
	//撤销权限
	revoke select on mytab from bank;
	revoke all on mytab from bank;
	//可以控制到列
	grant update(name) on mytab to list;
	grant insert(id) on mytab to list; 
	注意查询和删除不能控制到列
	//查询列权限
	select * from user_col_privs;
	
//查看用户下面拥有哪些系统权限、
	select * from user_sys_privs;	

//查看用户下面拥有哪些对象权限、
	select * from user_tab_privs;

//授予public权限
	grant create any table to public;

ddl 数据定义语言
dml 数据操作语言 //需要commit
dcl 数据授权

权限具有传递性
	grant alter any table to lisi with admin;
	grant alter any table to lisi with grant;
角色权限
	//创建
	create role myrole;
	//授权
	grant create session to myrole;
	grant create table to myrole;
	//把角色授权给用户
	gtant myrole to bank;




############################ sybase #####################################


#登陆数据库
isql -U aaa -P aaa -H 192.168.100.54:4205 -D staticdb -S bjtxsyb

#打开GUI配置窗口
asecfg

#############修改 sybase 存储过程的transaction mode
sp_procxmode procedure_name, "Unchained"
sp_procxmode procedure_name, "anymode"

## sybase 新建数据库

[sybase]$ isql -Usa  
Password: <sa-password>  
1> disk init name='jbpmdata', physname='/var/lib/sybase/jbpmdata.dat', size='32m'  
2> go  
1> disk init name='jbpmlog', physname='/var/lib/sybase/jbpmlog.dat', size='32m'  
2> go  
1> create database jbpm3 on jbpmdata='32m' log on jbpmlog='32m'  
2> go  
1> sp_dboption jbpm3, "trunc log on chkpt", true  
2> go  
1> sp_dboption jbpm3, "abort tran on log full", true  
2> go  


## sybase 创建数据库	 	

     use master
	drop database bank
	go
	sp_dropdevice bank
	go
	sp_dropdevice banklog
	go
	disk init name='bank', physname='D:\sybase_devices\bank.dat', size='500m'  
	go  
	disk init name='banklog', physname='D:\sybase_devices\banklog.dat', size='500m'  
	go  
	create database bank on bank='500m' log on banklog='500m'  
	go  
	sp_dboption bank, "trunc log on chkpt", true  
	go  
	sp_dboption bank, "abort tran on log full", true  
	go  	


## sybase 备份数据库
     use master
      
     go
     
     dump database bank to 'C:\sybasebak\20140903.dump'  
     
     go
     
     load database bank from 'C:\sybasebak\20140903.dump'
     
     go
     
     online database bank
     
     go
     
     sp_help


##修改数据库设备大小
use master
    go
    disk resize
    name = 'bank',
    size = '30m'
    go
    sp_helpdevice bank


ddlgen的其他用法:
1、存储过程
ddlgen -Usa -P666666 -SGTA101134 -Dbank -TP -N% -O C:\sybasebak\db\proc.ddl -Jutf8
2、数据库
ddlgen -Usa -P666666 -SGTA101134 -Dbank -TDB -Nbank -O C:\sybasebak\db\db.ddl -Jutf8
3、表结构
ddlgen -Usa -P666666 -SGTA101134 -Dbank -TU -N% -O C:\sybasebak\db\table.ddl -Jutf8
4、视图
ddlgen -Usa -P666666 -SGTA101134 -Dbank -TV -N% -O C:\sybasebak\db\view.ddl -Jutf8




########################## linux ########################################

netstat -tlnp

### 查看文件命令
# ls -l
total 30372
-rw-r--r-- 1 root root 31051909 May 24 10:07 cuss.war
-rw------- 1 root root 0 Mar 20 13:52 nohup.out
# ls -lh
total 30M
-rw-r--r-- 1 root root 30M May 24 10:07 cuss.war
-rw------- 1 root root 0 Mar 20 13:52 nohup.out
# ll -h
total 30M
-rw-r--r-- 1 root root 30M May 24 10:07 cuss.war
-rw------- 1 root root 0 Mar 20 13:52 nohup.out
[root@localhost rice_f2]# ls -lhs


## fcitx -r enable fcitx-qimpanel &

export XMODIFIERS="@im=fcitx"
export XIM=fcitx
export XIM_PROGRAM=fcitx
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
fcitx &
fcitx-qimpanel &

#fedora logout
>sudo pkill -kill -t tty1 

>sudo tar zxvf data.tar.xz -C /

####clear tmp

tmpwatch -afq --mtime 1 /tmp

## report file system disk space usage

df -h

############## chrome
cat << EOF > /etc/yum.repos.d/google-chrome.repo
[google-chrome]
name=google-chrome - \$basearch
baseurl=http://dl.google.com/linux/chrome/rpm/stable/\$basearch
enabled=1
gpgcheck=1
gpgkey=https://dl-ssl.google.com/linux/linux_signing_key.pub
EOF

yum install google-chrome-stable


sudo yum-config-manager --add-repo=http://repos.fedorapeople.org/repos/spot/chromium-stable/fedora-chromium-stable.repo

sudo yum install chromium -y

sudo yum-config-manager --add-repo=http://repos.fedorapeople.org/repos/spot/chromium-unstable/fedora-chromium.repo

############## Creating a Swap File
To add a swap file:
Determine the size of the new swap file in megabytes and multiply by 1024 to determine the number of blocks. For example, the block size of a 64 MB swap file is 65536.
At a shell prompt as root, type the following command with count being equal to the desired block size:
dd if=/dev/zero of=/swapfile bs=1024 count=65536
Setup the swap file with the command:
mkswap /swapfile
To enable the swap file immediately but not automatically at boot time:
swapon /swapfile
To enable it at boot time, edit /etc/fstab to include the following entry:
/swapfile swap swap defaults 0 0
The next time the system boots, it enables the new swap file.
To test if the new swap file was successfully created, use cat /proc/swaps or free to inspect the swap space.



######################### windows #######################
############ dos 查看端口占情况
netstat  -aon|findstr  "8080"





